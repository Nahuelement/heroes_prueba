{"ast":null,"code":"import _objectSpread from\"/Users/nahuelperugi/React/07-heroes-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/nahuelperugi/React/07-heroes-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useMemo}from'react';import queryString from'query-string';import{useLocation}from'react-router-dom';import{HeroeCard}from'../heroes/HeroeCard';import{useFormset}from'../hooks/useForm';import{getHreoesByName}from'../../selectors/getHreoesByName';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SearchScreen=function SearchScreen(_ref){var history=_ref.history;var location=useLocation();var _useMemo=useMemo(function(){return queryString.parse(location.search);},[location]),_useMemo$q=_useMemo.q,q=_useMemo$q===void 0?'':_useMemo$q;var _useFormset=useFormset({searchText:q}),_useFormset2=_slicedToArray(_useFormset,2),formValues=_useFormset2[0],handleInput=_useFormset2[1];var searchText=formValues.searchText;var heroesFilter=useMemo(function(){return getHreoesByName(q);},[q]);var handleSearch=function handleSearch(e){e.preventDefault();history.push(\"?q=\".concat(searchText));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Search\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Search Heroe\",autoComplete:\"off\",name:\"searchText\",value:searchText,onChange:handleInput}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn m-1 btn-block btn-outline-primary\",children:\"Search..\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-7\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Result\"}),/*#__PURE__*/_jsx(\"hr\",{}),q===''&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\"Search HeroeCard\"}),q!==''&heroesFilter.length==0&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-dismiss\",children:\"Dont exist to heroes\"}),heroesFilter.map(function(heroe){return/*#__PURE__*/_jsx(HeroeCard,_objectSpread({},heroe),heroe.id);})]})]})]});};","map":{"version":3,"sources":["/Users/nahuelperugi/React/07-heroes-app/src/components/search/SearchScreen.js"],"names":["React","useMemo","queryString","useLocation","HeroeCard","useFormset","getHreoesByName","SearchScreen","history","location","parse","search","q","searchText","formValues","handleInput","heroesFilter","handleSearch","e","preventDefault","push","length","map","heroe","id"],"mappings":"mPAAA,MAAOA,CAAAA,KAAP,EAAeC,OAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,SAAT,KAA0B,qBAA1B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,eAAT,KAAgC,iCAAhC,C,wFAMA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAe,IAAbC,CAAAA,OAAa,MAAbA,OAAa,CAEvC,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,aAAiBF,OAAO,CAAC,iBAAMC,CAAAA,WAAW,CAACQ,KAAZ,CAAkBD,QAAQ,CAACE,MAA3B,CAAN,EAAD,CAA2C,CAACF,QAAD,CAA3C,CAAxB,qBAAOG,CAAP,CAAOA,CAAP,qBAAW,EAAX,YAGA,gBAAkCP,UAAU,CAAC,CACzCQ,UAAU,CAACD,CAD8B,CAAD,CAA5C,4CAAOE,UAAP,iBAAmBC,WAAnB,iBAIA,GAAOF,CAAAA,UAAP,CAAqBC,UAArB,CAAOD,UAAP,CAEA,GAAMG,CAAAA,YAAY,CAAGf,OAAO,CAAC,iBAAMK,CAAAA,eAAe,CAACM,CAAD,CAArB,EAAD,CAA2B,CAACA,CAAD,CAA3B,CAA5B,CAEA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACAX,OAAO,CAACY,IAAR,cAAmBP,UAAnB,GAGH,CALD,CAOA,mBACI,oCACI,8BADJ,cAEI,aAFJ,cAGI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACJ,cACA,QAAQ,CAAII,YADZ,wBAII,cACA,SAAS,CAAC,cADV,CAEA,IAAI,CAAC,MAFL,CAGA,WAAW,CAAC,cAHZ,CAIA,YAAY,CAAG,KAJf,CAKA,IAAI,CAAG,YALP,CAMA,KAAK,CAAIJ,UANT,CAOA,QAAQ,CAAIE,WAPZ,EAJJ,cAaI,eAEA,IAAI,CAAC,QAFL,CAGA,SAAS,CAAC,uCAHV,sBAbJ,GADI,EADJ,cA4BI,aAAK,SAAS,CAAC,OAAf,wBACI,8BADJ,cAEI,aAFJ,CAKSH,CAAC,GAAG,EAAL,eAEC,YAAK,SAAS,CAAG,kBAAjB,8BAPT,CAYSA,CAAC,GAAG,EAAJ,CAASI,YAAY,CAACK,MAAb,EAAsB,CAAhC,eAEC,YAAK,SAAS,CAAG,qBAAjB,kCAdT,CAoBQL,YAAY,CAACM,GAAb,CAAiB,SAAAC,KAAK,qBAClB,KAAC,SAAD,kBAEIA,KAFJ,EACOA,KAAK,CAACC,EADb,CADkB,EAAtB,CApBR,GA5BJ,GAHJ,GADJ,CA8EH,CAnGM","sourcesContent":["import React,{ useMemo } from 'react'\nimport queryString from 'query-string'\nimport { useLocation } from 'react-router-dom'\nimport { HeroeCard } from '../heroes/HeroeCard'\nimport { useFormset } from '../hooks/useForm'\nimport { getHreoesByName } from '../../selectors/getHreoesByName'\n\n\n\n\n\nexport const SearchScreen = ({history}) => {\n\n    const location = useLocation()\n    const {q = ''} = useMemo(() => queryString.parse(location.search), [location])\n\n    \n    const [formValues, handleInput] = useFormset({\n        searchText:q\n\n    })\n    const {searchText} = formValues\n    \n    const heroesFilter = useMemo(() => getHreoesByName(q), [q])\n\n    const handleSearch = (e) => {\n        e.preventDefault()\n        history.push(`?q=${searchText}`)\n        \n        \n    }\n\n    return (\n        <div>\n            <h1>Search</h1> \n            <hr/>\n            <div className=\"row\">\n                <div className=\"col-5\">\n            <form\n            onSubmit = {handleSearch}\n            >\n\n                <input \n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"Search Heroe\" \n                autoComplete = 'off'\n                name = 'searchText'\n                value = {searchText}\n                onChange = {handleInput}\n                />\n                <button \n\n                type=\"submit\"\n                className=\"btn m-1 btn-block btn-outline-primary\">\n                    Search..\n                </button>\n\n\n\n            </form>\n\n\n                </div>\n                <div className=\"col-7\">\n                    <h3>Result</h3>\n                    <hr/>\n\n                    {\n                        (q==='') \n                        &&\n                         <div className = 'alert alert-info'>\n                             Search HeroeCard\n                        </div>\n                    }\n                                        {\n                        (q!=='' & heroesFilter.length ==0)  \n                        &&\n                         <div className = 'alert alert-dismiss'>\n                             Dont exist to heroes\n                        </div>\n                    }\n\n                    {\n                        heroesFilter.map(heroe=> (\n                            <HeroeCard\n                            key = {heroe.id}\n                            {...heroe}\n                            />\n                            )\n                            )\n\n                    }\n\n\n\n\n                    \n\n                </div>\n\n\n\n\n            </div>\n\n        \n            \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}